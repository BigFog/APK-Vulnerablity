<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>2.3 AllowBackup数据可备份漏洞</title>
</head>
<body>
<div id="wmd-preview" class="wmd-preview"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="ybe5" id="23-allowbackup数据可备份漏洞">2.3 AllowBackup数据可备份漏洞</h1><div class="md-section-divider"></div><h2 data-anchor-id="4kxc" id="问题描述">问题描述</h2><blockquote data-anchor-id="cmez" class="white-blockquote">
  <p>Android  API Level 8 及其以上 Android 系统提供了为应用程序数据的备份和恢复功能，此功能的开关决定于该应用程序中 AndroidManifest.xml 文件中的 allowBackup  属性值，其属性值默认是 True。当 allowBackup  标志为 true 时，用户即可通过 adb backup  和 adb restore 来进行对应用数据的备份和恢复，这可能会带来一定的安全风险。</p>
  
  <p>Android  属性 allowBackup 安全风险源于 adb backup  容许任何一个能够打开 USB 调试开关的人从Android  手机中复制应用数据到外设，一旦应用数据被备份之后，所有应用数据都可被用户读取；adb restore  容许用户指定一个恢复的数据来源（即备份的应用数据）来恢复应用程序数据的创建。因此，当一个应用数据被备份之后，用户即可在其他 Android  手机或模拟器上安装同一个应用，以及通过恢复该备份的应用数据到该设备上，在该设备上打开该应用即可恢复到被备份的应用程序的状态。</p>
  
  <p>尤其是通讯录应用，一旦应用程序支持备份和恢复功能，×××者即可通过 adb backup 和 adb restore  进行恢复新安装的同一个应用来查看聊天记录等信息；对于支付金融类应用，×××者可通过此来进行恶意支付、盗取存款等；因此为了安全起见，开发者务必将 allowBackup 标志值设置为 false  来关闭应用程序的备份和恢复功能，以免造成信息泄露和财产损失。</p>
</blockquote><div class="md-section-divider"></div><h2 data-anchor-id="g91l" id="风险等级">风险等级</h2><blockquote data-anchor-id="ljx4" class="white-blockquote">
  <p>low 低危</p>
</blockquote><div class="md-section-divider"></div><h2 data-anchor-id="cdlx" id="检测方法">检测方法</h2><blockquote data-anchor-id="c46v" class="white-blockquote">
  <p>解密AndroidMainfest.xml查看allowbackup属性是否为false。默认为true。</p>
</blockquote><div class="md-section-divider"></div><h2 data-anchor-id="qf4i" id="修复建议">修复建议</h2><blockquote data-anchor-id="asld" class="white-blockquote">
  <p>在 AndroidManifest.xml 文件显示设置 allowBackup属性值为 false，即android:allowBackup="false"</p>
</blockquote><div class="md-section-divider"></div><h2 data-anchor-id="gulw" id="其他">其他</h2><p data-anchor-id="g91z">无</p></div>
</body>
</html>