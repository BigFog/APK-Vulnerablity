<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>2.8.2 Activity——越权绕过漏洞</title>
</head>
<body>
<div id="wmd-preview" class="wmd-preview"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="l9yp" id="282-activity越权绕过漏洞">2.8.2 Activity——越权绕过漏洞</h1><div class="md-section-divider"></div><h2 data-anchor-id="l03j" id="问题描述">问题描述</h2><blockquote data-anchor-id="pp1e" class="white-blockquote">
  <p>该问题类似与组件导出漏洞类似，都是权限设置没有控制好进而可以导致外部启动activity。进而可能导致信息泄漏等相关信息。</p>
</blockquote><div class="md-section-divider"></div><h2 data-anchor-id="5v99" id="风险等级">风险等级</h2><blockquote data-anchor-id="35ix" class="white-blockquote">
  <p>low 低危</p>
</blockquote><div class="md-section-divider"></div><h2 data-anchor-id="dm0b" id="检测方法">检测方法</h2><blockquote data-anchor-id="xz78" class="white-blockquote">
  <p>同组件导出</p>
</blockquote><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="7lqk"><ol class="linenums"><li class="L0"><code><span class="pln">adb shell am start </span><span class="pun">-</span><span class="pln">n </span><span class="pun">包名/</span><span class="pln">activity</span><span class="pun">名字</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="lgkd" id="修补建议">修补建议</h2><blockquote data-anchor-id="uo18" class="white-blockquote">
  <p>设置android:exported属性为false <br>
  在AndroidManifest.xml文件中，我们应该设置下面的属性来保护应用。只有拥有和这个应用相同的user id才能够访问这个Activity。 <br>
  android:exported属性不是唯一的限制措施。我们还可以通过基于权限的方法来定制一个Activity的权限。这个可以限制应用之间的访问权限。 <br>
  公开暴露的Activity组件，可以被任意应用启动，创建activity： 设置exported属性为true。 谨慎处理接收的intent。 有返回数据时不应包含敏感信息。 不应发送敏感信息。 当收到返回数据时谨慎处理。</p>
</blockquote></div>
</body>
</html>