<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>2.12.4 Webview——设置方面的安全风险</title>
</head>
<body>
<div id="wmd-preview" class="wmd-preview"><div class="md-section-divider"></div><div class="md-section-divider"></div><h2 data-anchor-id="uswu" id="2124-webview设置方面的安全风险">2.12.4 Webview——设置方面的安全风险</h2><div class="md-section-divider"></div><h2 data-anchor-id="lfuq" id="问题描述">问题描述</h2><blockquote data-anchor-id="x414" class="white-blockquote">
  <p>下面是有关的Webview设置方面的安全风险</p>
</blockquote><div class="md-section-divider"></div><h2 data-anchor-id="frxu" id="风险等级">风险等级</h2><blockquote data-anchor-id="33m0" class="white-blockquote">
  <p>视情况而定</p>
</blockquote><div class="md-section-divider"></div><h2 data-anchor-id="sf8i" id="检测方法">检测方法</h2><ul data-anchor-id="1el5">
<li>setJavaScriptEnabled(),默认为false，即不允许执行JS代码。webview.getWebSettings().setJavaScriptEnabled(true);</li>
<li>setPluginState(),它有三个状态值ON,ON_DEMAND,OFF。默认为OFF.</li>
<li>SetAllowFileAccess（默认为true，即允许从webview访问本地文件。</li>
<li>setAllowContentAccess()默认为true，即允许从WebView加载Content URL，读取content provider相关内容.</li>
<li>setAllowFileAccessFromFileURLs(),这个函数的作用是在JS没有禁用的情况下，设置是否允许file协议的URL访问其他file协议的URL的文件内容。API 15及以下默认值为true,API 16及以上默认为false。  <br>
但是有个例外，当setAllowUniversalAccessFromFileURLs()的值为true时，setAllowFileAccessFromFileURLs()的值就不起作用了。</li>
<li>setAllowUniversalAccessFromFileURLs()，这个函数的作用是在JS没有禁用的情况下，设置是否允许file协议的URL访问其他任意来源的内容。 API 15及以下默认值为true,API 16及以上默认为false.</li>
<li>setSavePassword()默认值为true.这个函数的作用是设置是否允许WebView自动保存密码。</li>
</ul><div class="md-section-divider"></div><h2 data-anchor-id="bvz7" id="修复建议">修复建议</h2><p data-anchor-id="q4eg">根据相应的配置修改参数配置</p></div>
</body>
</html>